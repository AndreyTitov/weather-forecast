(function(t){function e(e){for(var n,s,o=e[0],c=e[1],u=e[2],l=0,f=[];l<o.length;l++)s=o[l],i[s]&&f.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"16a7":function(t,e,a){"use strict";var n=a("a36d"),i=a.n(n);i.a},1945:function(t,e,a){t.exports=a.p+"img/search-solid.8297cd8d.svg"},"56d7":function(t,e,a){"use strict";a.r(e);var n={};a.r(n),a.d(n,"getData",function(){return P}),a.d(n,"savedCities",function(){return I});var i={};a.r(i),a.d(i,"addWeatherData",function(){return A}),a.d(i,"SAVE_CITY",function(){return B}),a.d(i,"DELETE_CITY",function(){return Y});var r={};a.r(r),a.d(r,"dataWeather",function(){return F}),a.d(r,"saveCity",function(){return J}),a.d(r,"deleteCity",function(){return L});a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.cityName,expression:"cityName"}],staticClass:"searchInput",attrs:{type:"text",placeholder:"Enter city name"},domProps:{value:t.cityName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getCityByName(t.cityName)},input:function(e){e.target.composing||(t.cityName=e.target.value)}}}),n("div",{staticClass:"searchButton",on:{click:function(e){return t.getCityByName(t.cityName)}}},[n("img",{staticClass:"icon-img",attrs:{src:a("1945"),alt:"search-btn"}})])]),n("p",{staticClass:"lookingFor"},[t._v("You're looking for: "),n("b",[t._v(t._s(t.cityName))])]),t.erMessage?n("p",{staticClass:"errorMessage"},[t._v(t._s(t.erMessage))]):t._e(),n("transition",{attrs:{name:"bounce"}},[t.showWeather?n("FindedCity"):t._e()],1),n("SavedCity")],1)},c=[],u=a("d225"),d=a("b0b4"),l=a("bc3a"),f=a.n(l),p=function(){function t(){Object(u["a"])(this,t)}return Object(d["a"])(t,[{key:"getWeatherData",value:function(t){return f.a.get("//api.openweathermap.org/data/2.5/weather?q=".concat(t,"&units=metric&appid=c982164774d094d798ab7bd4fb8c5784")).then(function(t){return t}).catch(function(t){console.log(t)})}}]),t}(),v=new p,m=v,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",{attrs:{name:"bounce"}},[n("div",{staticClass:"findedWeatherBlock"},[n("p",{staticClass:"finded-city"},[t._v(t._s(t.getData.name))]),n("p",{staticClass:"finded-country"},[t._v(t._s(t.getData.sys.country))]),n("p",{staticClass:"finded-temp"},[t._v(t._s(t.getData.main.temp)+" °C")]),n("div",{staticClass:"save-btn-wrapper"},[n("div",{on:{click:function(e){return t.save(t.cityData)}}},[n("img",{staticClass:"icon-img",attrs:{src:a("6748"),alt:"save-icon"}}),n("p",{staticClass:"save-par"},[t._v("save")])])])])]),n("transition",{attrs:{name:"bounce"}},[t.showErr?n("div",{staticClass:"error"},[n("h3",[t._v("Current city is already saved")])]):t._e()])],1)},y=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"saved-block"},[n("p",{staticClass:"saved-title"},[t._v("Saved cities")]),n("div",{staticClass:"saved-city-block"},[n("transition-group",{attrs:{name:"list",tag:"p"}},t._l(t.saveCity,function(e){return n("ul",{key:e.id,staticClass:"saved-list"},[n("li",{staticClass:"saved-item"},[n("p",{staticClass:"city-name"},[t._v(t._s(e.name))]),n("p",{staticClass:"city-country"},[t._v(t._s(e.sys.country))]),n("p",{staticClass:"city-temp"},[t._v(" "+t._s(e.main.temp)+"°C")]),n("div",{staticClass:"delete-btn",on:{click:function(a){return t.deleteItem(e)}}},[n("img",{staticClass:"icon-img",attrs:{src:a("eb1c"),alt:"delete-icon"}})])])])}),0)],1)])},C=[],b={name:"SavedCity",props:["cityData"],computed:{saveCity:function(){var t=this.$store.getters.savedCities;return t}},methods:{deleteItem:function(t){this.$store.getters.savedCities;this.$store.dispatch("deleteCity",t.id)}}},_=b,w=(a("9492"),a("2877")),D=Object(w["a"])(_,g,C,!1,null,null,null),k=D.exports,E={name:"FindedCity",props:["cityData"],components:{SavedCity:k},data:function(){return{showSavedCities:!0,showErr:!1}},methods:{save:function(t){var e=this.$store.getters.getData;t=e;var a=this.$store.getters.savedCities,n=a.map(function(t){return t.id});console.log(n.indexOf(-1===t.id)),-1===n.indexOf(t.id)?(this.$store.dispatch("saveCity",t),this.showErr=!1):this.showErr=!0}},computed:{getData:function(){return this.$store.getters.getData}},mounted:function(){localStorage.city&&(this.saved=localStorage.city)},watch:{saved:function(t){localStorage.city=t}}},S=E,x=(a("16a7"),Object(w["a"])(S,h,y,!1,null,null,null)),O=x.exports,$={name:"app",components:{FindedCity:O,SavedCity:k},data:function(){return{cityName:"",erMessage:!1,showWeather:!1,savedCities:this.$store.getters.savedCities}},methods:{getCityByName:function(t){var e=this;m.getWeatherData(t).then(function(a){"undefined"!==typeof a?(e.$store.commit("addWeatherData",a.data),e.erMessage=!1,e.showWeather=!0):(e.showWeather=!1,e.erMessage="Sorry, we can't found city '".concat(t,"'. Please enter correct name."))}).catch(function(t){console.log(t)})}},computed:{getData:function(){return this.$store.getters.getData}}},j=$,N=(a("5c0b"),Object(w["a"])(j,o,c,!1,null,null,null)),W=N.exports,T=a("2f62"),M=a("bfa9"),P=function(t){return t.weatherData},I=function(t){return t.savedCities},A=function(t,e){return t.weatherData=e},B=function(t,e){t.savedCities.unshift(e)},Y=function(t,e){t.savedCities=t.savedCities.filter(function(t){if(t.id!=e)return t})},F=function(t){var e=t.commit;m.getWeatherData().then(function(t){e("ADD_WEATHER_DATA",t)})},J=function(t,e){var a=t.commit;a("SAVE_CITY",e)},L=function(t,e){var a=t.commit;a("DELETE_CITY",e)};s["a"].use(T["a"]);var V={weatherData:{},savedCities:[]},q=new M["a"]({key:"saved cities",storage:localStorage}),H=new T["a"].Store({state:V,getters:n,mutations:i,actions:r,plugins:[q.plugin]});s["a"].config.productionTip=!1,new s["a"]({store:H,render:function(t){return t(W)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("5e27"),i=a.n(n);i.a},"5e27":function(t,e,a){},6748:function(t,e,a){t.exports=a.p+"img/save-regular.7eb63e02.svg"},9492:function(t,e,a){"use strict";var n=a("bb77"),i=a.n(n);i.a},a36d:function(t,e,a){},bb77:function(t,e,a){},eb1c:function(t,e,a){t.exports=a.p+"img/trash-solid.db2ec44a.svg"}});
//# sourceMappingURL=app.f7618c2d.js.map